---
const { title = '', duration = '', img, color = '#6B2E4A' } = Astro.props;
---

<div class="firkant-card" role="group" aria-label={title} style={`--card-color: ${color}`}>
  <div class="firkant-card__wrapper">
    <div class="firkant-card__container">
      <!-- card image -->
      <img src={img} alt={title} class="firkant-card__img" />
    </div>
    
    <!-- title and duration below image -->
    <div class="firkant-card__info">
      <h3 class="firkant-card__title">{title}</h3>
      {duration && (
        <div class="firkant-card__duration">
          <svg class="duration-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
            <path d="M8 4V8L11 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span class="p2">{duration}</span>
        </div>
      )}
    </div>
  </div>
</div>

<style>
  .firkant-card {
    display: inline-flex;
    cursor: pointer;
    flex-shrink: 0;
  }

  .firkant-card__wrapper {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: clamp(280px, 30vw, 380px);
  }

  @media (min-width: 768px) {
    .firkant-card__wrapper {
      width: clamp(320px, 28vw, 420px);
    }
  }

  @media (min-width: 1024px) {
    .firkant-card__wrapper {
      width: clamp(360px, 24vw, 480px);
    }
  }

  .firkant-card__container {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 10;
    border-radius: 12px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  @media (min-width: 768px) {
    .firkant-card__container {
      width: 100%;
    }
  }

  @media (min-width: 1024px) {
    .firkant-card__container {
      width: 100%;
    }
  }

  .firkant-card:hover .firkant-card__container {
    transform: translate(8px, -8px);
    box-shadow: -8px 8px 0 var(--card-color, #6B2E4A);
  }

  .firkant-card__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .firkant-card__info {
    padding: 0 0.5rem;
  }

  .firkant-card__title {
    font-weight: 700;
    color: var(--card-color, #6B2E4A);
    text-transform: uppercase;
    margin: 0 0 0.25rem 0;
    line-height: 1.2;
    letter-spacing: 0;
    transition: letter-spacing 0.3s ease;
  }

  .firkant-card:hover .firkant-card__title {
    letter-spacing: 0.05em;
  }

  .firkant-card__duration {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    color: var(--card-color, #6B2E4A);
  }

  .duration-icon {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
  }
</style>
