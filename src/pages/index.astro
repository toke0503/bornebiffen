---
import MainLayout from "../layouts/MainLayout.astro";
import Link from "../components/Link.astro";
import { Image } from "astro:assets";
import Heading from "../components/Heading.astro";
import Text from "../components/Text.astro";
import Button from "../components/Button.astro";
import Hero from "../components/Hero.astro";
import RundeCard from "../components/RundeCard.astro";
import BaggrundSky from '../assets/images/baggrundsblaasky.png?url';
import BlaaPopkorn from '../assets/images/blaapopkorn.png?url';
import Vitello from '../assets/images/vitello.png?url';
import Pip from '../assets/images/pip.png?url';
import Lillefinger from '../assets/images/lillefinger.png?url';
import Raeven from '../assets/images/raeven.png?url';
import VitelloCard from '../assets/images/vitellocard.png?url';
import PipCard from '../assets/images/pipungernecard.png?url';
import LillefingerCard from '../assets/images/lillefingercard.png?url';

const cards = [
	{ title: 'Vitello', img: Vitello, bg: VitelloCard },
	{ title: 'Pipungerne', img: Pip, bg: PipCard },
	{ title: 'Lillefinger', img: Lillefinger, bg: LillefingerCard }
];
// create 12 placeholders by repeating the `cards` array
const placeholders = Array.from({ length: 12 }, (_, i) => cards[i % cards.length]);
---
<MainLayout title="Titel">
	<Hero />
	<section class="rundecards-section relative w-full overflow-visible bg-blaa mt-25 md:mt-50 lg:mt-50">
	<div class="max-w-screen-xl mx-auto px-6 md:px-12 py-6 md:py-10 relative">
		<h2 class="rundecards-title font-heading">SE DINE YNDLINGSKARAKTERER</h2>

	    <div class="cards-row relative">
				<div class="carousel flex gap-8 items-center justify-start no-scrollbar py-4 px-3">
				{placeholders.map((c) => (
					<div class="carousel-item">
						<RundeCard title={c.title} img={c.img} bg={c.bg} />
					</div>
				))}
			</div>
	    </div>
	  </div>

	<img src={BlaaPopkorn} alt="blaa popcorn" class="blaapopkorn-left" />

	  <style>
	    .rundecards-section { background-color: var(--color-blaa); }
		/* headline sits above the strip, left-aligned to the container, non-wrapping
		   Make the title responsive so it won't be clipped on small viewports. */
		.rundecards-title {
		  letter-spacing: 2px;
		  color: var(--color-blaa);
		  position: absolute;
		  left: 0.75rem; /* respect container padding */
		  transform: none;
		  top: -1.7rem;
		  z-index: 40;
		  white-space: nowrap;
		  display: inline-block;
		  max-width: calc(100vw - 2rem);
		  overflow: visible;
		  /* clamp between 1.25rem (20px) and 2rem (32px) on small/medium, up to 4rem on large */
		  font-size: clamp(1.25rem, 6.5vw, 2rem);
		}
		@media (min-width:768px) { .rundecards-title { top: -1.7rem; } }
		@media (min-width:1024px) { .rundecards-title { top: -3.6rem; font-size: 4rem; } }
		.cards-row .carousel { -webkit-overflow-scrolling: touch; scroll-behavior: smooth; overflow-x: auto; overflow-y: hidden; scroll-snap-type: x mandatory; }
		.cards-row .carousel-item { scroll-snap-align: center; flex: 0 0 auto; }

	    /* Position the blue popcorn decoration on the left, responsive and partly off-canvas */
		.blaapopkorn-left {
			position: absolute;
			/* align to the left edge of the positioned ancestor */
			left: 0;
			bottom: -0.5rem;
			width: 12rem;
			opacity: 0.98;
			pointer-events: none;
			z-index: 20;
			transition: width 200ms ease;
		}
		@media (min-width: 640px) {
			.blaapopkorn-left { width: 12rem; }
		}
		@media (min-width: 768px) {
			.blaapopkorn-left { bottom: -2rem; width: 16rem; }
		}
		@media (min-width: 1024px) {
			.blaapopkorn-left { bottom:0rem; width: 16rem; }
		}
	    .no-scrollbar::-webkit-scrollbar { display: none; }
	    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
	  </style>
	</section>
	<main class="container mx-auto p-4">
	</main>
</MainLayout>